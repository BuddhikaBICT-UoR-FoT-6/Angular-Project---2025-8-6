<ng-container *ngIf="vm$ | async as vm">
<div class="showroom-container">

    <!-- Hero Section -->
     <section class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">Fashion Forward</h1>
            <p class="hero-subtitle">Discover the latest fashion trends</p>
            <button *ngIf="!isLoggedIn()" class="cta-button" routerLink="/register">Shop Now</button>
        </div>

        <div class="hero-image">
            <div class="hero-placeholder">üëó</div>
        </div>
     </section>

    <!-- Categories Section -->
    <section class="categories-section">
        <h2>Shop by Category</h2>
        <div class="categories-grid">
            <div *ngFor="let category of categories" class="category-card">
                <div class="category-icon">
                    <span *ngIf="category === 'Shirts'">üëï</span>
                    <span *ngIf="category === 'Pants'">üëñ</span>
                    <span *ngIf="category === 'Dresses'">üëó</span>
                    <span *ngIf="category === 'Accessories'">üë†</span>
                </div>
                <h3>{{category}}</h3>
                <p>Explore {{category.toLowerCase()}}</p>
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="products-section">
        <div class="section-header">
            <h2>Featured Products</h2>
            <button class="auto-scroll-toggle" 
                    [class.active]="isAutoScrollActive"
                    *ngIf="!vm.loading && vm.featuredProducts.length > 0"
                    (click)="toggleAutoScroll()">
                {{ isAutoScrollActive ? '‚è∏Ô∏è Stop Auto Scroll' : '‚ñ∂Ô∏è Start Auto Scroll' }}
            </button>
        </div>

        <div *ngIf="vm.loading" class="loading">
            <div class="spinner"></div>
            <p>Loading products...</p>
        </div>

        <div *ngIf="!vm.loading && vm.featuredProducts.length === 0" class="no-products">
            <p>{{ vm.errorMessage || 'No products available at the moment' }}</p>
            <button *ngIf="!isLoggedIn()" routerLink="/register">Join us</button>
        </div>

        <div *ngIf="!vm.loading && vm.featuredProducts.length > 0" 
             class="horizontal-scroll-wrapper">
          <div class="products-scroll-container"
               (mousedown)="onDragStart($event)"
               (mousemove)="onDrag($event)"
               (mouseup)="onDragEnd()"
               (mouseleave)="onDragEnd()">
            <div *ngFor="let product of vm.featuredProducts" class="product-card">
                <div class="product-image">
                    <img *ngIf="product.image && product.image[0]" [src]="product.image[0]" [alt]="product.name || 'Product image'">
                    <div *ngIf="!product.image || !product.image[0]" class="product-placeholder">üì∑</div>
                </div>

                <div class="product-info">
                    <h3>{{product.name || 'Unnamed Product'}}</h3>
                    <p class="product-category">{{product.category || 'Fashion'}}</p>
                    <div class="product-price">${{product.price || '0.00' | number:'1.2-2'}}</div>
                    <button *ngIf="!isLoggedIn()" class="add-to-cart-button" routerLink="/login">View Details</button>
                    <button *ngIf="isLoggedIn()" class="add-to-cart-button" [routerLink]="['/product', product._id]">View Details</button>
                </div>
            </div>
          </div>
        </div>
    </section>

    <!-- Call to Action -->
    <section *ngIf="!isLoggedIn()" class="cta-section">
        <div class="cta-content">
            <h2>Ready to Start Shopping?</h2>
            <p>Join thousands of satisfied customers</p>
            <div class="cta-buttons">
                <button routerLink="/register" class="cta-button primary">Create Account</button>
                <button routerLink="/login" class="cta-button secondary">Sign In</button>
            </div>
        </div>
    </section>
    
</div>

</ng-container>
